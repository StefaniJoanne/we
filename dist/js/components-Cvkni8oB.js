import{g as be,A as we,l as St,m as Te,b as Se,c as Ce,d as Ae}from"./echarts-charts-JNHThrTf.js";import{G as xt,ae as L,b2 as Ie,$ as _t,aX as et,L as N,b3 as Jt,D as G,b4 as De,i as z,b5 as te,b6 as ft,u as ee,o as it,O as b,b7 as ie,W as P,C as X,aU as Pe,b8 as ke,b9 as Oe,ba as Le,bb as bt,bc as Re,aK as rt,_ as R,aj as ot,bd as D,aY as st,I as Be,p as re,d as q,b1 as Y,R as Q,be as ne,bf as Ct,bg as ze,bh as He,E as nt,bi as ae,aC as oe,aR as wt,bj as Ge,bk as Me,h as O,bl as We,bm as At,bn as Ve,bo as lt,bp as It,bq as Dt,br as Ee,bs as Ne,bt as Fe,a2 as Pt,a1 as at,bu as Xe,bv as Ye,aQ as Z,bw as kt,bx as Ot,an as $e,by as Ue,aZ as se,v as Ke,as as Ze,F as je,bz as qe,bA as Qe,f as Je,bB as Lt,aL as ti,bC as j,bD as ei,a as ii,bE as ri,ap as ni,bF as ai,aq as oi}from"./echarts-core-BpdCGbkb.js";var E=_t(),Rt=et,ut=G,si=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,i,n){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,!(!n&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var l=this._group,s=this._handle;if(!o||o==="hide"){l&&l.hide(),s&&s.hide();return}l&&l.show(),s&&s.show();var u={};this.makeElOption(u,a,e,t,i);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var d=this._moveAnimation=this.determineAnimation(e,t);if(!l)l=this._group=new xt,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),i.getZr().add(l);else{var c=L(Bt,t,d);this.updatePointerEl(l,u,c),this.updateLabelEl(l,u,c,t)}Ht(l,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var i=t.get("animation"),n=e.axis,a=n.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(i==="auto"||i==null){var l=this.animationThreshold;if(a&&n.getBandWidth()>l)return!0;if(o){var s=be(e).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/s>l}return!1}return i===!0},r.prototype.makeElOption=function(e,t,i,n,a){},r.prototype.createPointerEl=function(e,t,i,n){var a=t.pointer;if(a){var o=E(e).pointerEl=new Ie[a.type](Rt(t.pointer));e.add(o)}},r.prototype.createLabelEl=function(e,t,i,n){if(t.label){var a=E(e).labelEl=new N(Rt(t.label));e.add(a),zt(a,n)}},r.prototype.updatePointerEl=function(e,t,i){var n=E(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,i,n){var a=E(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{x:t.label.x,y:t.label.y}),zt(a,n))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,i=this._api.getZr(),n=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){n&&i.remove(n),this._handle=null;return}var l;this._handle||(l=!0,n=this._handle=Jt(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){De(u.event)},onmousedown:ut(this._onHandleDragMove,this,0,0),drift:ut(this._onHandleDragMove,this),ondragend:ut(this._onHandleDragEnd,this)}),i.add(n)),Ht(n,t,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");z(s)||(s=[s,s]),n.scaleX=s[0]/2,n.scaleY=s[1]/2,te(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,l)}},r.prototype._moveHandleToValue=function(e,t){Bt(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ht(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(ht(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(ht(n)),E(i).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),ft(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}},r}();function Bt(r,e,t,i){le(E(t).lastProp,i)||(E(t).lastProp=i,e?ee(t,i,r):(t.stopAnimation(),t.attr(i)))}function le(r,e){if(it(r)&&it(e)){var t=!0;return b(e,function(i,n){t=t&&le(r[n],i)}),!!t}else return r===e}function zt(r,e){r[e.get(["label","show"])?"show":"hide"]()}function ht(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function Ht(r,e,t){var i=e.get("z"),n=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(i!=null&&(a.z=i),n!=null&&(a.zlevel=n),a.silent=t)})}function li(r){var e=r.get("type"),t=r.getModel(e+"Style"),i;return e==="line"?(i=t.getLineStyle(),i.fill=null):e==="shadow"&&(i=t.getAreaStyle(),i.stroke=null),i}function ui(r,e,t,i,n){var a=t.get("value"),o=ue(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),l=t.getModel("label"),s=bt(l.get("padding")||0),u=l.getFont(),h=Re(o,u),d=n.position,c=h.width+s[1]+s[3],f=h.height+s[0]+s[2],g=n.align;g==="right"&&(d[0]-=c),g==="center"&&(d[0]-=c/2);var p=n.verticalAlign;p==="bottom"&&(d[1]-=f),p==="middle"&&(d[1]-=f/2),hi(d,c,f,i);var y=l.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),r.label={x:d[0],y:d[1],style:rt(l,{text:o,font:u,fill:l.getTextColor(),padding:s,backgroundColor:y}),z2:10}}function hi(r,e,t,i){var n=i.getWidth(),a=i.getHeight();r[0]=Math.min(r[0]+e,n)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function ue(r,e,t,i,n){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:n.precision}),o=n.formatter;if(o){var l={value:ie(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};b(i,function(s){var u=t.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,d=u&&u.getDataParams(h);d&&l.seriesData.push(d)}),P(o)?a=o.replace("{value}",a):X(o)&&(a=o(l))}return a}function he(r,e,t){var i=ke();return Pe(i,i,t.rotation),Oe(i,i,t.position),Le([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function di(r,e,t,i,n,a){var o=we.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=n.get(["label","margin"]),ui(e,i,n,a,{position:he(i.axis,r,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function ci(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function fi(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}var pi=function(r){R(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,n,a,o){var l=n.axis,s=l.grid,u=a.get("type"),h=Gt(s,l).getOtherAxis(l).getGlobalExtent(),d=l.toGlobalCoord(l.dataToCoord(i,!0));if(u&&u!=="none"){var c=li(a),f=gi[u](l,d,h);f.style=c,t.graphicKey=f.type,t.pointer=f}var g=St(s.model,n);di(i,t,g,n,a,o)},e.prototype.getHandleTransform=function(t,i,n){var a=St(i.axis.grid.model,i,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var o=he(i.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,n,a){var o=n.axis,l=o.grid,s=o.getGlobalExtent(!0),u=Gt(l,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,d=[t.x,t.y];d[h]+=i[h],d[h]=Math.min(s[1],d[h]),d[h]=Math.max(s[0],d[h]);var c=(u[1]+u[0])/2,f=[c,c];f[h]=d[h];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:f,tooltipOption:g[h]}},e}(si);function Gt(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var gi={line:function(r,e,t){var i=ci([e,t[0]],[e,t[1]],Mt(r));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(r,e,t){var i=Math.max(1,r.getBandWidth()),n=t[1]-t[0];return{type:"Rect",shape:fi([e-i/2,t[0]],[i,n],Mt(r))}}};function Mt(r){return r.dim==="x"?0:1}var vi=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(ot),H=_t(),yi=b;function de(r,e,t){if(!D.node){var i=e.getZr();H(i).records||(H(i).records={}),mi(i,e);var n=H(i).records[r]||(H(i).records[r]={});n.handler=t}}function mi(r,e){if(H(r).initialized)return;H(r).initialized=!0,t("click",L(Wt,"click")),t("mousemove",L(Wt,"mousemove")),t("globalout",_i);function t(i,n){r.on(i,function(a){var o=bi(e);yi(H(r).records,function(l){l&&n(l,a,o.dispatchAction)}),xi(o.pendings,e)})}}function xi(r,e){var t=r.showTip.length,i=r.hideTip.length,n;t?n=r.showTip[t-1]:i&&(n=r.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function _i(r,e,t){r.handler("leave",null,t)}function Wt(r,e,t,i){e.handler(r,t,i)}function bi(r){var e={showTip:[],hideTip:[]},t=function(i){var n=e[i.type];n?n.push(i):(i.dispatchAction=t,r.dispatchAction(i))};return{dispatchAction:t,pendings:e}}function pt(r,e){if(!D.node){var t=e.getZr(),i=(H(t).records||{})[r];i&&(H(t).records[r]=null)}}var wi=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,n){var a=i.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";de("axisPointer",n,function(l,s,u){o!=="none"&&(l==="leave"||o.indexOf(l)>=0)&&u({type:"updateAxisPointer",currTrigger:l,x:s&&s.offsetX,y:s&&s.offsetY})})},e.prototype.remove=function(t,i){pt("axisPointer",i)},e.prototype.dispose=function(t,i){pt("axisPointer",i)},e.type="axisPointer",e}(st);function ce(r,e){var t=[],i=r.seriesIndex,n;if(i==null||!(n=e.getSeriesByIndex(i)))return{point:[]};var a=n.getData(),o=Be(a,r);if(o==null||o<0||z(o))return{point:[]};var l=a.getItemGraphicEl(o),s=n.coordinateSystem;if(n.getTooltipPosition)t=n.getTooltipPosition(o)||[];else if(s&&s.dataToPoint)if(r.isStacked){var u=s.getBaseAxis(),h=s.getOtherAxis(u),d=h.dim,c=u.dim,f=d==="x"||d==="radius"?1:0,g=a.mapDimension(c),p=[];p[f]=a.get(g,o),p[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=s.dataToPoint(p)||[]}else t=s.dataToPoint(a.getValues(re(s.dimensions,function(v){return a.mapDimension(v)}),o))||[];else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:l}}var Vt=_t();function Ti(r,e,t){var i=r.currTrigger,n=[r.x,r.y],a=r,o=r.dispatchAction||G(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){tt(n)&&(n=ce({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var s=tt(n),u=a.axesInfo,h=l.axesInfo,d=i==="leave"||tt(n),c={},f={},g={list:[],map:{}},p={showPointer:L(Ci,f),showTooltip:L(Ai,g)};b(l.coordSysMap,function(v,x){var m=s||v.containPoint(n);b(l.coordSysAxesInfo[x],function(S,_){var w=S.axis,T=ki(u,S);if(!d&&m&&(!u||T)){var C=T&&T.value;C==null&&!s&&(C=w.pointToData(n)),C!=null&&Et(S,C,p,!1,c)}})});var y={};return b(h,function(v,x){var m=v.linkGroup;m&&!f[x]&&b(m.axesInfo,function(S,_){var w=f[_];if(S!==v&&w){var T=w.value;m.mapper&&(T=v.axis.scale.parse(m.mapper(T,Nt(S),Nt(v)))),y[v.key]=T}})}),b(y,function(v,x){Et(h[x],v,p,!0,c)}),Ii(f,h,c),Di(g,n,r,o),Pi(h,o,t),c}}function Et(r,e,t,i,n){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var o=Si(e,r),l=o.payloadBatch,s=o.snapToValue;l[0]&&n.seriesIndex==null&&q(n,l[0]),!i&&r.snap&&a.containData(s)&&s!=null&&(e=s),t.showPointer(r,e,l),t.showTooltip(r,o,s)}}function Si(r,e){var t=e.axis,i=t.dim,n=r,a=[],o=Number.MAX_VALUE,l=-1;return b(e.seriesModels,function(s,u){var h=s.getData().mapDimensionsAll(i),d,c;if(s.getAxisTooltipData){var f=s.getAxisTooltipData(h,r,t);c=f.dataIndices,d=f.nestestValue}else{if(c=s.getData().indicesOfNearest(h[0],r,t.type==="category"?.5:null),!c.length)return;d=s.getData().get(h[0],c[0])}if(!(d==null||!isFinite(d))){var g=r-d,p=Math.abs(g);p<=o&&((p<o||g>=0&&l<0)&&(o=p,l=g,n=d,a.length=0),b(c,function(y){a.push({seriesIndex:s.seriesIndex,dataIndexInside:y,dataIndex:s.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:n}}function Ci(r,e,t,i){r[e.key]={value:t,payloadBatch:i}}function Ai(r,e,t,i){var n=t.payloadBatch,a=e.axis,o=a.model,l=e.axisPointerModel;if(!(!e.triggerTooltip||!n.length)){var s=e.coordSys.model,u=Te(s),h=r.map[u];h||(h=r.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},r.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function Ii(r,e,t){var i=t.axesInfo=[];b(e,function(n,a){var o=n.axisPointerModel.option,l=r[a];l?(!n.useHandle&&(o.status="show"),o.value=l.value,o.seriesDataIndices=(l.payloadBatch||[]).slice()):!n.useHandle&&(o.status="hide"),o.status==="show"&&i.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function Di(r,e,t,i){if(tt(e)||!r.list.length){i({type:"hideTip"});return}var n=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:r.list})}function Pi(r,e,t){var i=t.getZr(),n="axisPointerLastHighlights",a=Vt(i)[n]||{},o=Vt(i)[n]={};b(r,function(u,h){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&b(d.seriesDataIndices,function(c){var f=c.seriesIndex+" | "+c.dataIndex;o[f]=c})});var l=[],s=[];b(a,function(u,h){!o[h]&&s.push(u)}),b(o,function(u,h){!a[h]&&l.push(u)}),s.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),l.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function ki(r,e){for(var t=0;t<(r||[]).length;t++){var i=r[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function Nt(r){var e=r.axis.model,t={},i=t.axisDim=r.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function tt(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function fe(r){Se.registerAxisPointerClass("CartesianAxisPointer",pi),r.registerComponentModel(vi),r.registerComponentView(wi),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!z(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Ce(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ti)}function ur(r){Y(Ae),Y(fe)}function Oi(r,e){var t=bt(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),r=new Q({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),r}var Li=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ot);function pe(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function ge(r){if(D.domSupported){for(var e=document.documentElement.style,t=0,i=r.length;t<i;t++)if(r[t]in e)return r[t]}}var ve=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ri=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function ye(r,e){if(!r)return e;e=ne(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function Bi(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var zi=ye(Ri,"transition"),Tt=ye(ve,"transform"),Hi="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(D.transform3dSupported?"will-change:transform;":"");function Gi(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function Mi(r,e,t){if(!P(t)||t==="inside")return"";var i=r.get("backgroundColor"),n=r.get("borderWidth");e=nt(e);var a=Gi(t),o=Math.max(Math.round(n)*1.5,6),l="",s=Tt+":",u;oe(["left","right"],a)>-1?(l+="top:50%",s+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(l+="left:50%",s+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var h=u*Math.PI/180,d=o+n,c=d*Math.abs(Math.cos(h))+d*Math.abs(Math.sin(h)),f=Math.round(((c-Math.SQRT2*n)/2+Math.SQRT2*n-(c-d)/2)*100)/100;l+=";"+a+":-"+f+"px";var g=e+" solid "+n+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",l+";"+s+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"];return'<div style="'+p.join("")+'"></div>'}function Wi(r,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+r/2+"s "+t,n="opacity"+i+",visibility"+i;return e||(i=" "+r+"s "+t,n+=D.transformSupported?","+Tt+i:",left"+i+",top"+i),zi+":"+n}function Ft(r,e,t){var i=r.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!D.transformSupported)return t?"top:"+n+";left:"+i+";":[["top",n],["left",i]];var a=D.transform3dSupported,o="translate"+(a?"3d":"")+"("+i+","+n+(a?",0":"")+")";return t?"top:0;left:0;"+Tt+":"+o+";":[["top",0],["left",0],[ve,o]]}function Vi(r){var e=[],t=r.get("fontSize"),i=r.getTextColor();i&&e.push("color:"+i),e.push("font:"+r.getFont());var n=wt(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+n+"px");var a=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,l=r.get("textShadowOffsetX")||0,s=r.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+l+"px "+s+"px "+o+"px "+a),b(["decoration","align"],function(u){var h=r.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}function Ei(r,e,t){var i=[],n=r.get("transitionDuration"),a=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),s=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),h=r.getModel("textStyle"),d=ae(r,"html"),c=s+"px "+u+"px "+o+"px "+l;return i.push("box-shadow:"+c),e&&n&&i.push(Wi(n,t)),a&&i.push("background-color:"+a),b(["width","color","radius"],function(f){var g="border-"+f,p=ne(g),y=r.get(p);y!=null&&i.push(g+":"+y+(f==="color"?"":"px"))}),i.push(Vi(h)),d!=null&&i.push("padding:"+bt(d).join("px ")+"px"),i.join(";")+";"}function Xt(r,e,t,i,n){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&He(r,o,t,i,n)}else{r[0]=i,r[1]=n;var l=a&&a.getViewportRootOffset();l&&(r[0]+=l.offsetLeft,r[1]+=l.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Ni=function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,D.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),a=t.appendTo,o=a&&(P(a)?document.querySelector(a):Ct(a)?a:X(a)&&a(e.getDom()));Xt(this._styleCoord,n,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(i),this._api=e,this._container=o;var l=this;i.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},i.onmousemove=function(s){if(s=s||window.event,!l._enterable){var u=n.handler,h=n.painter.getViewportRoot();ze(h,s,!0),u.dispatch("mousemove",s)}},i.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),i=Bi(t,"position"),n=t.style;n.position!=="absolute"&&i!=="absolute"&&(n.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,a=this._styleCoord;i.innerHTML?n.cssText=Hi+Ei(e,!this._firstShow,this._longHide)+Ft(a[0],a[1],!0)+("border-color:"+nt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,i,n,a){var o=this.el;if(e==null){o.innerHTML="";return}var l="";if(P(a)&&i.get("trigger")==="item"&&!pe(i)&&(l=Mi(i,n,a)),P(e))o.innerHTML=e+l;else if(e){o.innerHTML="",z(e)||(e=[e]);for(var s=0;s<e.length;s++)Ct(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(l&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=l,o.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var i=this._styleCoord;if(Xt(i,this._zr,this._container,e,t),i[0]!=null&&i[1]!=null){var n=this.el.style,a=Ft(i[0],i[1]);b(a,function(o){n[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",D.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(G(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),Fi=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),$t(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,i,n,a){var o=this;it(e)&&Ge(""),this.el&&this._zr.remove(this.el);var l=i.getModel("textStyle");this.el=new N({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:l.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:ae(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),b(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=i.get(u)}),b(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=l.get(u)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=Yt(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},r.prototype.moveTo=function(e,t){var i=this.el;if(i){var n=this._styleCoord;$t(n,this._zr,e,t),e=n[0],t=n[1];var a=i.style,o=W(a.borderWidth||0),l=Yt(a);i.x=e+o+l.left,i.y=t+o+l.top,i.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(G(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function W(r){return Math.max(0,r)}function Yt(r){var e=W(r.shadowBlur||0),t=W(r.shadowOffsetX||0),i=W(r.shadowOffsetY||0);return{left:W(e-t),right:W(e+t),top:W(e-i),bottom:W(e+i)}}function $t(r,e,t,i){r[0]=t,r[1]=i,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Xi=new Q({shape:{x:-1,y:-1,width:2,height:2}}),Yi=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){if(!(D.node||!i.getDom())){var n=t.getComponent("tooltip"),a=this._renderMode=Me(n.get("renderMode"));this._tooltipContent=a==="richText"?new Fi(i):new Ni(i,{appendTo:n.get("appendToBody",!0)?"body":n.get("appendTo",!0)})}},e.prototype.render=function(t,i,n){if(!(D.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=n;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?te(this,"_updatePosition",50,"fixRate"):ft(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,i=t.get("triggerOn");de("itemTooltip",this._api,G(function(n,a,o){i!=="none"&&(i.indexOf(n)>=0?this._tryShow(a,o):n==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,n=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&o.manuallyShowTip(t,i,n,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,n,a){if(!(a.from===this.uid||D.node||!n.getDom())){var o=Ut(a,n);this._ticket="";var l=a.dataByCoordSys,s=Zi(a,i,n);if(s){var u=s.el.getBoundingRect().clone();u.applyTransform(s.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:s.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var h=Xi;h.x=a.x,h.y=a.y,h.update(),O(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},o)}else if(l)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:l,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,n,a))return;var d=ce(a,i),c=d.point[0],f=d.point[1];c!=null&&f!=null&&this._tryShow({offsetX:c,offsetY:f,target:d.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,i,n,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Ut(a,n))},e.prototype._manuallyAxisShowTip=function(t,i,n,a){var o=a.seriesIndex,l=a.dataIndex,s=i.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||l==null||s==null)){var u=i.getSeriesByIndex(o);if(u){var h=u.getData(),d=U([h.getItemModel(l),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:l,position:a.position}),!0}}},e.prototype._tryShow=function(t,i){var n=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){var l=O(n);if(l.ssrType==="legend")return;this._lastDataByCoordSys=null;var s,u;We(n,function(h){if(O(h).dataIndex!=null)return s=h,!0;if(O(h).tooltipConfig!=null)return u=h,!0},!0),s?this._showSeriesItemTooltip(t,s,i):u?this._showComponentItemTooltip(t,u,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var n=t.get("showDelay");i=G(i,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(i,n):i()},e.prototype._showAxisTooltip=function(t,i){var n=this._ecModel,a=this._tooltipModel,o=[i.offsetX,i.offsetY],l=U([i.tooltipOption],a),s=this._renderMode,u=[],h=At("section",{blocks:[],noHeader:!0}),d=[],c=new lt;b(t,function(x){b(x.dataByAxis,function(m){var S=n.getComponent(m.axisDim+"Axis",m.axisIndex),_=m.value;if(!(!S||_==null)){var w=ue(_,S.axis,n,m.seriesDataIndices,m.valueLabelOpt),T=At("section",{header:w,noHeader:!Ve(w),sortBlocks:!0,blocks:[]});h.blocks.push(T),b(m.seriesDataIndices,function(C){var M=n.getSeriesByIndex(C.seriesIndex),I=C.dataIndexInside,A=M.getDataParams(I);if(!(A.dataIndex<0)){A.axisDim=m.axisDim,A.axisIndex=m.axisIndex,A.axisType=m.axisType,A.axisId=m.axisId,A.axisValue=ie(S.axis,{value:_}),A.axisValueLabel=w,A.marker=c.makeTooltipMarker("item",nt(A.color),s);var k=It(M.formatTooltip(I,!0,null)),B=k.frag;if(B){var V=U([M],a).get("valueFormatter");T.blocks.push(V?q({valueFormatter:V},B):B)}k.text&&d.push(k.text),u.push(A)}})}})}),h.blocks.reverse(),d.reverse();var f=i.position,g=l.get("order"),p=Dt(h,c,s,g,n.get("useUTC"),l.get("textStyle"));p&&d.unshift(p);var y=s==="richText"?`

`:"<br/>",v=d.join(y);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(l,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(l,v,u,Math.random()+"",o[0],o[1],f,null,c)})},e.prototype._showSeriesItemTooltip=function(t,i,n){var a=this._ecModel,o=O(i),l=o.seriesIndex,s=a.getSeriesByIndex(l),u=o.dataModel||s,h=o.dataIndex,d=o.dataType,c=u.getData(d),f=this._renderMode,g=t.positionDefault,p=U([c.getItemModel(h),u,s&&(s.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),y=p.get("trigger");if(!(y!=null&&y!=="item")){var v=u.getDataParams(h,d),x=new lt;v.marker=x.makeTooltipMarker("item",nt(v.color),f);var m=It(u.formatTooltip(h,!1,d)),S=p.get("order"),_=p.get("valueFormatter"),w=m.frag,T=w?Dt(_?q({valueFormatter:_},w):w,x,f,S,a.get("useUTC"),p.get("textStyle")):m.text,C="item_"+u.name+"_"+h;this._showOrMove(p,function(){this._showTooltipContent(p,T,v,C,t.offsetX,t.offsetY,t.position,t.target,x)}),n({type:"showTip",dataIndexInside:h,dataIndex:c.getRawIndex(h),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,n){var a=this._renderMode==="html",o=O(i),l=o.tooltipConfig,s=l.option||{},u=s.encodeHTMLContent;if(P(s)){var h=s;s={content:h,formatter:h},u=!0}u&&a&&s.content&&(s=et(s),s.content=Ee(s.content));var d=[s],c=this._ecModel.getComponent(o.componentMainType,o.componentIndex);c&&d.push(c),d.push({formatter:s.content});var f=t.positionDefault,g=U(d,this._tooltipModel,f?{position:f}:null),p=g.get("content"),y=Math.random()+"",v=new lt;this._showOrMove(g,function(){var x=et(g.get("formatterParams")||{});this._showTooltipContent(g,p,x,y,t.offsetX,t.offsetY,t.position,i,v)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,n,a,o,l,s,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var c=t.get("formatter");s=s||t.get("position");var f=i,g=this._getNearestPoint([o,l],n,t.get("trigger"),t.get("borderColor")),p=g.color;if(c)if(P(c)){var y=t.ecModel.get("useUTC"),v=z(n)?n[0]:n,x=v&&v.axisType&&v.axisType.indexOf("time")>=0;f=c,x&&(f=Ne(v.axisValue,f,y)),f=Fe(f,n,!0)}else if(X(c)){var m=G(function(S,_){S===this._ticket&&(d.setContent(_,h,t,p,s),this._updatePosition(t,s,o,l,d,n,u))},this);this._ticket=a,f=c(n,a,m)}else f=c;d.setContent(f,h,t,p,s),d.show(t,p),this._updatePosition(t,s,o,l,d,n,u)}},e.prototype._getNearestPoint=function(t,i,n,a){if(n==="axis"||z(i))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!z(i))return{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,n,a,o,l,s){var u=this._api.getWidth(),h=this._api.getHeight();i=i||t.get("position");var d=o.getSize(),c=t.get("align"),f=t.get("verticalAlign"),g=s&&s.getBoundingRect().clone();if(s&&g.applyTransform(s.transform),X(i)&&(i=i([n,a],l,o.el,g,{viewSize:[u,h],contentSize:d.slice()})),z(i))n=Pt(i[0],u),a=Pt(i[1],h);else if(it(i)){var p=i;p.width=d[0],p.height=d[1];var y=at(p,{width:u,height:h});n=y.x,a=y.y,c=null,f=null}else if(P(i)&&s){var v=Ki(i,g,d,t.get("borderWidth"));n=v[0],a=v[1]}else{var v=$i(n,a,o,u,h,c?null:20,f?null:20);n=v[0],a=v[1]}if(c&&(n-=Kt(c)?d[0]/2:c==="right"?d[0]:0),f&&(a-=Kt(f)?d[1]/2:f==="bottom"?d[1]:0),pe(t)){var v=Ui(n,a,o,u,h);n=v[0],a=v[1]}o.moveTo(n,a)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var n=this._lastDataByCoordSys,a=this._cbParamsList,o=!!n&&n.length===t.length;return o&&b(n,function(l,s){var u=l.dataByAxis||[],h=t[s]||{},d=h.dataByAxis||[];o=o&&u.length===d.length,o&&b(u,function(c,f){var g=d[f]||{},p=c.seriesDataIndices||[],y=g.seriesDataIndices||[];o=o&&c.value===g.value&&c.axisType===g.axisType&&c.axisId===g.axisId&&p.length===y.length,o&&b(p,function(v,x){var m=y[x];o=o&&v.seriesIndex===m.seriesIndex&&v.dataIndex===m.dataIndex}),a&&b(c.seriesDataIndices,function(v){var x=v.seriesIndex,m=i[x],S=a[x];m&&S&&S.data!==m.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){D.node||!i.getDom()||(ft(this,"_updatePosition"),this._tooltipContent.dispose(),pt("itemTooltip",i))},e.type="tooltip",e}(st);function U(r,e,t){var i=e.ecModel,n;t?(n=new Z(t,i,i),n=new Z(e.option,n,i)):n=e;for(var a=r.length-1;a>=0;a--){var o=r[a];o&&(o instanceof Z&&(o=o.get("tooltip",!0)),P(o)&&(o={formatter:o}),o&&(n=new Z(o,n,i)))}return n}function Ut(r,e){return r.dispatchAction||G(e.dispatchAction,e)}function $i(r,e,t,i,n,a,o){var l=t.getSize(),s=l[0],u=l[1];return a!=null&&(r+s+a+2>i?r-=s+a:r+=a),o!=null&&(e+u+o>n?e-=u+o:e+=o),[r,e]}function Ui(r,e,t,i,n){var a=t.getSize(),o=a[0],l=a[1];return r=Math.min(r+o,i)-o,e=Math.min(e+l,n)-l,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function Ki(r,e,t,i){var n=t[0],a=t[1],o=Math.ceil(Math.SQRT2*i)+8,l=0,s=0,u=e.width,h=e.height;switch(r){case"inside":l=e.x+u/2-n/2,s=e.y+h/2-a/2;break;case"top":l=e.x+u/2-n/2,s=e.y-a-o;break;case"bottom":l=e.x+u/2-n/2,s=e.y+h+o;break;case"left":l=e.x-n-o,s=e.y+h/2-a/2;break;case"right":l=e.x+u+o,s=e.y+h/2-a/2}return[l,s]}function Kt(r){return r==="center"||r==="middle"}function Zi(r,e,t){var i=Xe(r).queryOptionMap,n=i.keys()[0];if(!(!n||n==="series")){var a=Ye(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var l=t.getViewOfComponentModel(o),s;if(l.group.traverse(function(u){var h=O(u).tooltipConfig;if(h&&h.name===r.name)return s=u,!0}),s)return{componentMainType:n,componentIndex:o.componentIndex,el:s}}}}function hr(r){Y(fe),r.registerComponentModel(Li),r.registerComponentView(Yi),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},kt),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},kt)}var ji=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ot),qi=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,n){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),l=t.getModel("subtextStyle"),s=t.get("textAlign"),u=wt(t.get("textBaseline"),t.get("textVerticalAlign")),h=new N({style:rt(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),d=h.getBoundingRect(),c=t.get("subtext"),f=new N({style:rt(l,{text:c,fill:l.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),p=t.get("sublink"),y=t.get("triggerEvent",!0);h.silent=!g&&!y,f.silent=!p&&!y,g&&h.on("click",function(){Ot(g,"_"+t.get("target"))}),p&&f.on("click",function(){Ot(p,"_"+t.get("subtarget"))}),O(h).eventData=O(f).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(h),c&&a.add(f);var v=a.getBoundingRect(),x=t.getBoxLayoutParams();x.width=v.width,x.height=v.height;var m=at(x,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));s||(s=t.get("left")||t.get("right"),s==="middle"&&(s="center"),s==="right"?m.x+=m.width:s==="center"&&(m.x+=m.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?m.y+=m.height:u==="middle"&&(m.y+=m.height/2),u=u||"top"),a.x=m.x,a.y=m.y,a.markRedraw();var S={align:s,verticalAlign:u};h.setStyle(S),f.setStyle(S),v=a.getBoundingRect();var _=m.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var T=new Q({shape:{x:v.x-_[3],y:v.y-_[0],width:v.width+_[1]+_[3],height:v.height+_[0]+_[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});a.add(T)}},e.type="title",e}(st);function dr(r){r.registerComponentModel(ji),r.registerComponentView(qi)}var Qi=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},gt=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,i,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,n=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),z(i)&&b(i,function(a,o){P(a)&&(a={type:a}),i[o]=$e(a,Qi(n,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,n=0;n<t.length;n++){var a=t[n].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],n=[];t.eachRawSeries(function(s){var u=s.name;n.push(u);var h;if(s.legendVisualProvider){var d=s.legendVisualProvider,c=d.getAllNames();t.isSeriesFiltered(s)||(n=n.concat(c)),c.length?i=i.concat(c):h=!0}else h=!0;h&&Ue(s)&&i.push(s.name)}),this._availableNames=n;var a=this.get("data")||i,o=se(),l=re(a,function(s){return(P(s)||Ke(s))&&(s={name:s}),o.get(s.name)?null:(o.set(s.name,!0),new Z(s,this,this.ecModel))},this);this._data=Ze(l,function(s){return!!s})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected,n=this.get("selectedMode");if(n==="single"){var a=this._data;b(a,function(o){i[o.get("name")]=!1})}i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;b(t,function(n){i[n.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;b(t,function(n){var a=n.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&oe(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ot),F=L,vt=b,J=xt,me=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new J),this.group.add(this._selectorGroup=new J),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),l=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&l==="vertical"?"right":"left");var s=t.get("selector",!0),u=t.get("selectorPosition",!0);s&&(!u||u==="auto")&&(u=l==="horizontal"?"end":"start"),this.renderInner(o,t,i,n,s,l,u);var h=t.getBoxLayoutParams(),d={width:n.getWidth(),height:n.getHeight()},c=t.get("padding"),f=at(h,d,c),g=this.layoutInner(t,o,f,a,s,u),p=at(je({width:g.width,height:g.height},h),d,c);this.group.x=p.x-g.x,this.group.y=p.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Oi(g,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,n,a,o,l,s){var u=this.getContentGroup(),h=se(),d=i.get("selectedMode"),c=[];n.eachRawSeries(function(f){!f.get("legendHoverLink")&&c.push(f.id)}),vt(i.getData(),function(f,g){var p=f.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var y=new J;y.newline=!0,u.add(y);return}var v=n.getSeriesByName(p)[0];if(!h.get(p))if(v){var x=v.getData(),m=x.getVisual("legendLineStyle")||{},S=x.getVisual("legendIcon"),_=x.getVisual("style"),w=this._createItem(v,p,g,f,i,t,m,_,S,d,a);w.on("click",F(Zt,p,null,a,c)).on("mouseover",F(yt,v.name,null,a,c)).on("mouseout",F(mt,v.name,null,a,c)),n.ssr&&w.eachChild(function(T){var C=O(T);C.seriesIndex=v.seriesIndex,C.dataIndex=g,C.ssrType="legend"}),h.set(p,!0)}else n.eachRawSeries(function(T){if(!h.get(p)&&T.legendVisualProvider){var C=T.legendVisualProvider;if(!C.containName(p))return;var M=C.indexOfName(p),I=C.getItemVisual(M,"style"),A=C.getItemVisual(M,"legendIcon"),k=qe(I.fill);k&&k[3]===0&&(k[3]=.2,I=q(q({},I),{fill:Qe(k,"rgba")}));var B=this._createItem(T,p,g,f,i,t,{},I,A,d,a);B.on("click",F(Zt,null,p,a,c)).on("mouseover",F(yt,null,p,a,c)).on("mouseout",F(mt,null,p,a,c)),n.ssr&&B.eachChild(function(V){var $=O(V);$.seriesIndex=T.seriesIndex,$.dataIndex=g,$.ssrType="legend"}),h.set(p,!0)}},this)},this),o&&this._createSelector(o,i,a,l,s)},e.prototype._createSelector=function(t,i,n,a,o){var l=this.getSelectorGroup();vt(t,function(u){var h=u.type,d=new N({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});l.add(d);var c=i.getModel("selectorLabel"),f=i.getModel(["emphasis","selectorLabel"]);Je(d,{normal:c,emphasis:f},{defaultText:u.title}),Lt(d)})},e.prototype._createItem=function(t,i,n,a,o,l,s,u,h,d,c){var f=t.visualDrawType,g=o.get("itemWidth"),p=o.get("itemHeight"),y=o.isSelected(i),v=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),m=a.get("icon");h=m||h||"roundRect";var S=Ji(h,a,s,u,f,y,c),_=new J,w=a.getModel("textStyle");if(X(t.getLegendIcon)&&(!m||m==="inherit"))_.add(t.getLegendIcon({itemWidth:g,itemHeight:p,icon:h,iconRotate:v,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:x}));else{var T=m==="inherit"&&t.getData().getVisual("symbol")?v==="inherit"?t.getData().getVisual("symbolRotate"):v:0;_.add(tr({itemWidth:g,itemHeight:p,icon:h,iconRotate:T,itemStyle:S.itemStyle,symbolKeepAspect:x}))}var C=l==="left"?g+5:-5,M=l,I=o.get("formatter"),A=i;P(I)&&I?A=I.replace("{name}",i??""):X(I)&&(A=I(i));var k=y?w.getTextColor():a.get("inactiveColor");_.add(new N({style:rt(w,{text:A,x:C,y:p/2,fill:k,align:M,verticalAlign:"middle"},{inheritColor:k})}));var B=new Q({shape:_.getBoundingRect(),style:{fill:"transparent"}}),V=a.getModel("tooltip");return V.get("show")&&ti({el:B,componentModel:o,itemName:i,itemTooltipOption:V.option}),_.add(B),_.eachChild(function($){$.silent=!0}),B.silent=!d,this.getContentGroup().add(_),Lt(_),_.__legendDataIndex=n,_},e.prototype.layoutInner=function(t,i,n,a,o,l){var s=this.getContentGroup(),u=this.getSelectorGroup();j(t.get("orient"),s,t.get("itemGap"),n.width,n.height);var h=s.getBoundingRect(),d=[-h.x,-h.y];if(u.markRedraw(),s.markRedraw(),o){j("horizontal",u,t.get("selectorItemGap",!0));var c=u.getBoundingRect(),f=[-c.x,-c.y],g=t.get("selectorButtonGap",!0),p=t.getOrient().index,y=p===0?"width":"height",v=p===0?"height":"width",x=p===0?"y":"x";l==="end"?f[p]+=h[y]+g:d[p]+=c[y]+g,f[1-p]+=h[v]/2-c[v]/2,u.x=f[0],u.y=f[1],s.x=d[0],s.y=d[1];var m={x:0,y:0};return m[y]=h[y]+g+c[y],m[v]=Math.max(h[v],c[v]),m[x]=Math.min(0,c[x]+f[1-p]),m}else return s.x=d[0],s.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(st);function Ji(r,e,t,i,n,a,o){function l(y,v){y.lineWidth==="auto"&&(y.lineWidth=v.lineWidth>0?2:0),vt(y,function(x,m){y[m]==="inherit"&&(y[m]=v[m])})}var s=e.getModel("itemStyle"),u=s.getItemStyle(),h=r.lastIndexOf("empty",0)===0?"fill":"stroke",d=s.getShallow("decal");u.decal=!d||d==="inherit"?i.decal:ei(d,o),u.fill==="inherit"&&(u.fill=i[n]),u.stroke==="inherit"&&(u.stroke=i[h]),u.opacity==="inherit"&&(u.opacity=(n==="fill"?i:t).opacity),l(u,i);var c=e.getModel("lineStyle"),f=c.getLineStyle();if(l(f,t),u.fill==="auto"&&(u.fill=i.fill),u.stroke==="auto"&&(u.stroke=i.fill),f.stroke==="auto"&&(f.stroke=i.fill),!a){var g=e.get("inactiveBorderWidth"),p=u[h];u.lineWidth=g==="auto"?i.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=c.get("inactiveColor"),f.lineWidth=c.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function tr(r){var e=r.icon||"roundRect",t=ii(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Zt(r,e,t,i){mt(r,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:r??e}),yt(r,e,t,i)}function xe(r){for(var e=r.getZr().storage.getDisplayList(),t,i=0,n=e.length;i<n&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function yt(r,e,t,i){xe(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:i})}function mt(r,e,t,i){xe(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:i})}function er(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function K(r,e,t){var i=r==="allSelect"||r==="inverseSelect",n={},a=[];t.eachComponent({mainType:"legend",query:e},function(l){i?l[r]():l[r](e.name),jt(l,n),a.push(l.componentIndex)});var o={};return t.eachComponent("legend",function(l){b(n,function(s,u){l[s?"select":"unSelect"](u)}),jt(l,o)}),i?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function jt(r,e){var t=e||{};return b(r.getData(),function(i){var n=i.get("name");if(!(n===`
`||n==="")){var a=r.isSelected(n);ri(t,n)?t[n]=t[n]&&a:t[n]=a}}),t}function ir(r){r.registerAction("legendToggleSelect","legendselectchanged",L(K,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",L(K,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",L(K,"inverseSelect")),r.registerAction("legendSelect","legendselected",L(K,"select")),r.registerAction("legendUnSelect","legendunselected",L(K,"unSelect"))}function _e(r){r.registerComponentModel(gt),r.registerComponentView(me),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,er),r.registerSubTypeDefaulter("legend",function(){return"plain"}),ir(r)}var rr=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,n){var a=ni(t);r.prototype.init.call(this,t,i,n),qt(this,t,a)},e.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i),qt(this,this.option,t)},e.type="legend.scroll",e.defaultOption=ai(gt.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(gt);function qt(r,e,t){var i=r.getOrient(),n=[1,1];n[i.index]=0,oi(e,t,{type:"box",ignoreSize:!!n})}var Qt=xt,dt=["width","height"],ct=["x","y"],nr=function(r){R(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Qt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Qt)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,n,a,o,l,s){var u=this;r.prototype.renderInner.call(this,t,i,n,a,o,l,s);var h=this._controllerGroup,d=i.get("pageIconSize",!0),c=z(d)?d:[d,d];g("pagePrev",0);var f=i.getModel("pageTextStyle");h.add(new N({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(p,y){var v=p+"DataIndex",x=Jt(i.get("pageIcons",!0)[i.getOrient().name][y],{onclick:G(u._pageGo,u,v,i,a)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});x.name=p,h.add(x)}},e.prototype.layoutInner=function(t,i,n,a,o,l){var s=this.getSelectorGroup(),u=t.getOrient().index,h=dt[u],d=ct[u],c=dt[1-u],f=ct[1-u];o&&j("horizontal",s,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),p=s.getBoundingRect(),y=[-p.x,-p.y],v=et(n);o&&(v[h]=n[h]-p[h]-g);var x=this._layoutContentAndController(t,a,v,u,h,c,f,d);if(o){if(l==="end")y[u]+=x[h]+g;else{var m=p[h]+g;y[u]-=m,x[d]-=m}x[h]+=p[h]+g,y[1-u]+=x[f]+x[c]/2-p[c]/2,x[c]=Math.max(x[c],p[c]),x[f]=Math.min(x[f],p[f]+y[1-u]),s.x=y[0],s.y=y[1],s.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,i,n,a,o,l,s,u){var h=this.getContentGroup(),d=this._containerGroup,c=this._controllerGroup;j(t.get("orient"),h,t.get("itemGap"),a?n.width:null,a?null:n.height),j("horizontal",c,t.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),g=c.getBoundingRect(),p=this._showController=f[o]>n[o],y=[-f.x,-f.y];i||(y[a]=h[u]);var v=[0,0],x=[-g.x,-g.y],m=wt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var S=t.get("pageButtonPosition",!0);S==="end"?x[a]+=n[o]-g[o]:v[a]+=g[o]+m}x[1-a]+=f[l]/2-g[l]/2,h.setPosition(y),d.setPosition(v),c.setPosition(x);var _={x:0,y:0};if(_[o]=p?n[o]:f[o],_[l]=Math.max(f[l],g[l]),_[s]=Math.min(0,g[s]+x[1-a]),d.__rectSize=n[o],p){var w={x:0,y:0};w[o]=Math.max(n[o]-g[o]-m,0),w[l]=_[l],d.setClipPath(new Q({shape:w})),d.__rectSize=w[o]}else c.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return T.pageIndex!=null&&ee(h,{x:T.contentPosition[0],y:T.contentPosition[1]},p?t:null),this._updatePageInfoView(t,T),_},e.prototype._pageGo=function(t,i,n){var a=this._getPageInfo(i)[t];a!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var n=this._controllerGroup;b(["pagePrev","pageNext"],function(h){var d=h+"DataIndex",c=i[d]!=null,f=n.childOfName(h);f&&(f.setStyle("fill",c?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=c?"pointer":"default")});var a=n.childOfName("pageText"),o=t.get("pageFormatter"),l=i.pageIndex,s=l!=null?l+1:0,u=i.pageCount;a&&o&&a.setStyle("text",P(o)?o.replace("{current}",s==null?"":s+"").replace("{total}",u==null?"":u+""):o({current:s,total:u}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,l=dt[o],s=ct[o],u=this._findTargetItemIndex(i),h=n.children(),d=h[u],c=h.length,f=c?1:0,g={contentPosition:[n.x,n.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var p=S(d);g.contentPosition[o]=-p.s;for(var y=u+1,v=p,x=p,m=null;y<=c;++y)m=S(h[y]),(!m&&x.e>v.s+a||m&&!_(m,v.s))&&(x.i>v.i?v=x:v=m,v&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=v.i),++g.pageCount)),x=m;for(var y=u-1,v=p,x=p,m=null;y>=-1;--y)m=S(h[y]),(!m||!_(x,m.s))&&v.i<x.i&&(x=v,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=v.i),++g.pageCount,++g.pageIndex),v=m;return g;function S(w){if(w){var T=w.getBoundingRect(),C=T[s]+w[s];return{s:C,e:C+T[l],i:w.__legendDataIndex}}}function _(w,T){return w.e>=T&&w.s<=T+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var i,n=this.getContentGroup(),a;return n.eachChild(function(o,l){var s=o.__legendDataIndex;a==null&&s!=null&&(a=l),s===t&&(i=l)}),i??a},e.type="legend.scroll",e}(me);function ar(r){r.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(n){n.setScrollDataIndex(i)})})}function or(r){Y(_e),r.registerComponentModel(rr),r.registerComponentView(nr),ar(r)}function cr(r){Y(_e),Y(or)}export{fe as AxisPointerComponent,ur as GridComponent,Ae as GridSimpleComponent,cr as LegendComponent,_e as LegendPlainComponent,or as LegendScrollComponent,dr as TitleComponent,hr as TooltipComponent};
